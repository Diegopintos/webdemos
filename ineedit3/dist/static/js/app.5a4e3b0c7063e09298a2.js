webpackJsonp([1],{MZrC:function(e,l){},NHnr:function(e,l,a){"use strict";function t(e){a("MZrC")}Object.defineProperty(l,"__esModule",{value:!0});var i=a("7+uW"),r={name:"app"},n=function(){var e=this,l=e.$createElement,a=e._self._c||l;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},o=[],s={render:n,staticRenderFns:o},d=s,c=a("VU/8"),u=t,p=c(r,d,!1,u,null,null),b=p.exports,_=a("/ocq"),g={name:"ServiceList",data:function(){return{error:!1,loading:!0,lat:null,lng:null,serviceTypes:[{id:"accounting",label:"Accounting"},{id:"airport",label:"Airport"},{id:"amusement_park",label:"Amusement Park"},{id:"aquarium",label:"Aquarium"},{id:"art_gallery",label:"Art Gallery"},{id:"atm",label:"ATM"},{id:"bakery",label:"Bakery"},{id:"bank",label:"Bank"},{id:"bar",label:"Bar"},{id:"beauty_salon",label:"Beauty Salon"},{id:"bicycle_store",label:"Bicycle Store"},{id:"book_store",label:"Book Store"},{id:"bowling_alley",label:"Bowling Alley"},{id:"bus_station",label:"Bus Station"},{id:"cafe",label:"Cafe"},{id:"campground",label:"Campground"},{id:"car_dealer",label:"Car Dealer"},{id:"car_rental",label:"Car Rental"},{id:"car_repair",label:"Car Repair"},{id:"car_wash",label:"Car Wash"},{id:"casino",label:"Casino"},{id:"cemetery",label:"Cemetery"},{id:"church",label:"Church"},{id:"city_hall",label:"City Hall"},{id:"clothing_store",label:"Clothing store"},{id:"convenience_store",label:"Convenience store"},{id:"courthouse",label:"Courthouse"},{id:"dentist",label:"Dentist"},{id:"department_store",label:"Department Store"},{id:"doctor",label:"Doctor"},{id:"electrician",label:"Electrician"},{id:"electronics_store",label:"Electronics Store"},{id:"embassy",label:"Embassy"},{id:"establishment",label:"Establishment"},{id:"finance",label:"Finance"},{id:"fire_station",label:"Fire Station"},{id:"florist",label:"Florist"},{id:"food",label:"Food"},{id:"funeral_home",label:"Funeral Home"},{id:"furniture_store",label:"Furniture Store"},{id:"gas_station",label:"Gas Station"},{id:"general_contractor",label:"General Contractor"},{id:"geocode",label:"Geocode"},{id:"grocery_or_supermarket",label:"Grocery or Supermarket"},{id:"gym",label:"Gym"},{id:"hair_care",label:"Hair Care"},{id:"hardware_store",label:"Hardware Store"},{id:"health",label:"Health"},{id:"hindu_temple",label:"Hindu Temple"},{id:"home_goods_store",label:"Home Goods Store"},{id:"hospital",label:"Hospital"},{id:"insurance_agency",label:"Insurance Agency"},{id:"jewelry_store",label:"Jewelry Store"},{id:"laundry",label:"Laundry"},{id:"lawyer",label:"Lawyer"},{id:"library",label:"Library"},{id:"liquor_store",label:"Liquor Store"},{id:"local_government_office",label:"Local Government Office"},{id:"locksmith",label:"Locksmith"},{id:"lodging",label:"Lodging"},{id:"meal_delivery",label:"Meal Delivery"},{id:"meal_takeaway",label:"Meal Takeaway"},{id:"mosque",label:"Mosque"},{id:"movie_rental",label:"Movie Rental"},{id:"movie_theater",label:"Movie Theater"},{id:"moving_company",label:"Moving Company"},{id:"museum",label:"Museum"},{id:"night_club",label:"Night Club"},{id:"painter",label:"Painter"},{id:"park",label:"Park"},{id:"parking",label:"Parking"},{id:"pet_store",label:"Pet Store"},{id:"pharmacy",label:"Pharmacy"},{id:"physiotherapist",label:"Physiotherapist"},{id:"place_of_worship",label:"Place of Worship"},{id:"plumber",label:"Plumber"},{id:"police",label:"Police"},{id:"post_office",label:"Post Office"},{id:"real_estate_agency",label:"Real Estate Agency"},{id:"restaurant",label:"Restaurant"},{id:"roofing_contractor",label:"Roofing Contractor"},{id:"rv_park",label:"RV Park"},{id:"school",label:"School"},{id:"shoe_store",label:"Shoe Store"},{id:"shopping_mall",label:"Shopping Mall"},{id:"spa",label:"Spa"},{id:"stadium",label:"Stadium"},{id:"storage",label:"Storage"},{id:"store",label:"Store"},{id:"subway_station",label:"Subway Station"},{id:"synagogue",label:"Synagogue"},{id:"taxi_stand",label:"Taxi Stand"},{id:"train_station",label:"Train Station"},{id:"travel_agency",label:"Travel Agency"},{id:"university",label:"University"},{id:"veterinary_care",label:"Veterinary Care"},{id:"zoo",label:"Zoo"}]}},mounted:function(){this.$nextTick(function(){if(null===this.lat){console.log("get geolocation",this.lat);var e=this;navigator.geolocation.getCurrentPosition(function(l){console.log(l),e.lng=l.coords.longitude,e.lat=l.coords.latitude,e.loading=!1},function(l){console.error(l),e.loading=!1,e.error=!0})}})}},m=function(){var e=this,l=e.$createElement,a=e._self._c||l;return a("div",[a("h1",[e._v("Service List")]),e._v(" "),e.loading?a("div",[e._v("\n    Looking up your location...\n    ")]):e._e(),e._v(" "),e.error?a("div",[e._v("\n    I'm sorry, but I had a problem getitng your location. Check the console for details.\n    ")]):e._e(),e._v(" "),e.loading||e.error?e._e():a("div",[a("ul",e._l(e.serviceTypes,function(l){return a("li",{key:l.id},[a("router-link",{attrs:{to:{name:"typeList",params:{type:l.id,name:l.label,lat:e.lat,lng:e.lng}}}},[e._v(e._s(l.label))])],1)}))])])},v=[],h={render:m,staticRenderFns:v},y=h,f=a("VU/8"),k=f(g,y,!1,null,null,null),S=k.exports,w={name:"ServiceList",data:function(){return{results:[],loading:!0}},created:function(){var e=this;fetch("https://openwhisk.ng.bluemix.net/api/v1/web/rcamden%40us.ibm.com_My%20Space/googleplaces/search.json?lat="+this.lat+"&lng="+this.lng+"&type="+this.type+"&radius=2000").then(function(e){return e.json()}).then(function(l){console.log("res",l),e.results=l.result,e.loading=!1})},props:["name","type","lat","lng"]},C=function(){var e=this,l=e.$createElement,a=e._self._c||l;return a("div",[a("h1",[e._v(e._s(e.name))]),e._v(" "),e.loading?a("div",[e._v("\n    Looking up data...\n    ")]):e._e(),e._v(" "),e.loading?e._e():a("div",[a("ul",e._l(e.results,function(l){return a("li",{key:l.id},[a("router-link",{attrs:{to:{name:"detail",params:{placeid:l.place_id}}}},[e._v(e._s(l.name))])],1)})),e._v(" "),0===e.results.length?a("p",[e._v("\n        Sorry, no results.\n        ")]):e._e(),e._v(" "),a("p",[a("router-link",{attrs:{to:"/"}},[e._v("Back")])],1)])])},M=[],L={render:C,staticRenderFns:M},P=L,B=a("VU/8"),x=B(w,P,!1,null,null,null),A=x.exports,T={name:"Detail",data:function(){return{detail:[],loading:!0}},methods:{goBack:function(){this.$router.go(-1)}},created:function(){var e=this;fetch("https://openwhisk.ng.bluemix.net/api/v1/web/rcamden%40us.ibm.com_My%20Space/googleplaces/detail.json?placeid="+this.placeid).then(function(e){return e.json()}).then(function(l){console.log("res",l.result),l.result.price="",l.price_level&&(0===l.result.price_level&&(l.result.price="Free"),1===l.result.price_level&&(l.result.price="Inexpensive"),2===l.result.price_level&&(l.result.price="Moderate"),3===l.result.price_level&&(l.result.price="Expensive"),4===l.result.price_level&&(l.result.price="Very expensive")),e.detail=l.result,e.detail.mapUrl="https://maps.googleapis.com/maps/api/staticmap?center="+e.detail.geometry.location.lat+","+e.detail.geometry.location.lng+"&zoom=14&markers=color:blue%7C"+e.detail.geometry.location.lat+","+e.detail.geometry.location.lng+"&size=310x310&sensor=true&key=AIzaSyBw5Mjzbn8oCwKEnwI2gtClM17VMCaNBUY",e.loading=!1})},props:["placeid"]},E=function(){var e=this,l=e.$createElement,a=e._self._c||l;return a("div",[e.loading?a("div",[e._v("\n    Looking up data...\n    ")]):e._e(),e._v(" "),e.loading?e._e():a("div",[a("div",[a("img",{attrs:{src:e.detail.icon}}),e._v(" "),a("h2",[e._v(e._s(e.detail.name))]),e._v(" "),a("p",[e._v(e._s(e.detail.formatted_address))])]),e._v(" "),a("div",[a("p",[e._v("\n                This business is currently \n                "),e.detail.opening_hours?a("span",[e.detail.opening_hours.open_now?a("span",[e._v("open.")]):a("span",[e._v("closed.")])]):e._e(),e._v(" "),a("br"),e._v("\n                Phone: "+e._s(e.detail.formatted_phone_number)),a("br"),e._v("\n                Website: "),a("a",{attrs:{href:e.detail.website,target:"_new"}},[e._v(e._s(e.detail.website))]),a("br"),e._v(" "),e.detail.price?a("span",[e._v('Items here are generally priced "'+e._s(e.detail.price)+'".')]):e._e()]),e._v(" "),a("p",[a("img",{staticClass:"full-image",attrs:{src:e.detail.mapUrl,width:"310",height:"310"}})])]),e._v(" "),a("p",[a("a",{attrs:{href:""},on:{click:function(l){l.preventDefault(),e.goBack(l)}}},[e._v("Go Back")])])])])},F=[],R={render:E,staticRenderFns:F},H=R,G=a("VU/8"),U=G(T,H,!1,null,null,null),V=U.exports;i.a.use(_.a);var j=new _.a({routes:[{path:"/",name:"ServiceList",component:S},{path:"/type/:type/name/:name/lat/:lat/lng/:lng",component:A,name:"typeList",props:!0},{path:"/detail/:placeid",component:V,name:"detail",props:!0}]});i.a.config.productionTip=!1,new i.a({el:"#app",router:j,template:"<App/>",components:{App:b}})}},["NHnr"]);
//# sourceMappingURL=app.5a4e3b0c7063e09298a2.js.map